@model PropertyListing
@{
  Layout = "_Layout";
}

<h1>Create Property Listing</h1>

<form asp-action="AddPropertyListing" asp-controller="PropertyListing" method="post" class="needs-validation"
  enctype="multipart/form-data" novalidate>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label asp-for="PropertyName" class="form-label">Property Name</label>
        <input asp-for="PropertyName" class="form-control" required />
        <div class="invalid-feedback">
          <span asp-validation-for="PropertyName" class="text-danger"></span>
        </div>
      </div>

      <!-- Add multiple image selector -->
      <div class="form-group">
        <label class="form-label">Images</label>
        <input asp-for="PropertyListingGallery" class="form-control" required />
        <div class="invalid-feedback">
          <span>Please select one or more images.</span>
        </div>
      </div>

      <div class="form-group">
        <label asp-for="PropertyType">Property Type</label>
        <select asp-for="PropertyType" class="form-select">
          <option selected value="House">House</option>
          <option value="Apartment">Apartment</option>
          <option value="Condo">Condo</option>
          <option value="Townhouse">Townhouse</option>
          <option value="Villa">Villa</option>
          <option value="Cabin">Cabin</option>
        </select>
        <div class="invalid-feedback">
          <span asp-validation-for="PropertyType" class="text-danger"></span>
        </div>
      </div>

      <div class="form-group">
        <label asp-for="Location" class="form-label">Location</label>
        <input asp-for="Location" class="form-control" required />
        <div class="invalid-feedback">
          <span asp-validation-for="Location" class="text-danger"></span>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="form-group">
        <label asp-for="PricePerNight" class="form-label">Price per Night</label>
        <input asp-for="PricePerNight" class="form-control" required />
        <div class="invalid-feedback">
          <span asp-validation-for="PricePerNight" class="text-danger"></span>
        </div>
      </div>

      <div class="form-group">
        <label asp-for="NextAvailableDate" class="form-label">Next Available Date</label>
        <input asp-for="NextAvailableDate" class="form-control" type="date" required />
        <div class="invalid-feedback">
          <span asp-validation-for="NextAvailableDate" class="text-danger"></span>
        </div>
      </div>

      <div class="form-group">
        <label asp-for="MinimumReservationDays" class="form-label">Minimum Reservation Days</label>
        <input asp-for="MinimumReservationDays" class="form-control" type="number" min="1" required />
        <div class="invalid-feedback">
          <span asp-validation-for="MinimumReservationDays" class="text-danger"></span>
        </div>
      </div>

      <div class="form-group">
        <label asp-for="NumberOfBedrooms" class="form-label">Number of Bedrooms</label>
        <input asp-for="NumberOfBedrooms" class="form-control" type="number" required />
        <div class="invalid-feedback">
          <span asp-validation-for="NumberOfBedrooms" class="text-danger"></span>
        </div>
      </div>

      <div class="form-group">
        <label asp-for="NumberOfBeds" class="form-label">Number of Beds</label>
        <input asp-for="NumberOfBeds" class="form-control" type="number" required />
        <div class="invalid-feedback">
          <span asp-validation-for="NumberOfBeds" class="text-danger"></span>
        </div>
      </div>

      <div class="form-group">
        <label asp-for="NumberOfBaths" class="form-label">Number of Baths</label>
        <input asp-for="NumberOfBaths" class="form-control" type="number" required />
        <div class="invalid-feedback">
          <span asp-validation-for="NumberOfBaths" class="text-danger"></span>
        </div>
      </div>

      <div class="form-group">
        <label asp-for="MaxNumberOfGuests" class="form-label">Max Number of Guests</label>
        <input asp-for="MaxNumberOfGuests" class="form-control" type="number" required />
        <div class="invalid-feedback">
          <span asp-validation-for="MaxNumberOfGuests" class="text-danger"></span>
        </div>
      </div>

      <div class="form-group">
        <label asp-for="Description" class="form-label">Description</label>
        <textarea asp-for="Description" class="form-control" name="Description" id="Description" cols="30" rows="10"
          required></textarea>
        <div class="invalid-feedback">
          <span asp-validation-for="Description" class="text-danger"></span>
        </div>
      </div>
    </div>

  </div>

  <button type="submit" class="btn btn-primary mt-2">Create</button>
</form>

@section Scripts {
  <script>
    $(document).ready(function () {
      $('#example-multiple-selected').selectpicker();
    });
    // Enable form validation
    (function () {
      'use strict';
      var forms = document.querySelectorAll('.needs-validation');
      Array.prototype.slice.call(forms).forEach(function (form) {
        form.addEventListener('submit', function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    })();
  </script>
}